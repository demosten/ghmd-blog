{% extends "base.html.jinja" %}

{% block title %}{{ post.title }} | {{ config.title }}{% endblock %}

{% block head %}
{% if post.description %}
<meta name="description" content="{{ post.description }}">
{% endif %}
{% endblock %}

{% block content %}
<article class="post">
    <header class="post-header">
        <h1 class="post-title">{{ post.title }}</h1>
        {% if post.author or config.author %}
        <p class="post-author">By {{ post.author or config.author }}</p>
        {% endif %}

        <div class="post-meta">
            {% if config.show_date and post.date %}
            <time datetime="{{ post.date.isoformat() }}">{{ post.date.strftime('%B %d, %Y') }}</time>
            {% endif %}
            {% if config.show_date and post.update %}
            <time datetime="{{ post.update.isoformat() }}" class="updated-date">Last updated: {{ post.update.strftime('%B %d, %Y') }}</time>
            {% endif %}
            {% if config.show_reading_time %}
            <span class="reading-time">{{ post.reading_time }} min read</span>
            {% endif %}
        </div>
        
        {% if post.tags %}
        <div class="post-tags">
            {% for tag in post.tags %}
            <span class="tag">{{ tag }}</span>
            {% endfor %}
        </div>
        {% endif %}
    </header>

    {% if show_toc and toc_html %}
    <aside class="toc-container">
        <details class="toc-details" open>
            <summary class="toc-title">Table of Contents</summary>
            {{ toc_html | safe }}
        </details>
    </aside>
    {% endif %}

    <div class="post-content">
        {{ post.content_html | safe }}
    </div>

    <footer class="post-footer">
        <a href="{{ config.get_asset_url('index.html') }}" class="back-link" onclick="history.back(); return false;">‚Üê Back to all posts</a>
    </footer>
</article>
{% endblock %}
